#!/usr/bin/env php
<?php require_once "vendor/autoload.php";

/**
 * We want to know where this project run
 */
define("BASE_PATH", getcwd());

echo "SUPER FRAMEWORK CLI TOOL\n";
echo "=================================\n";

switch ($argv[1]) {
    case "admin:make":
        if($argv[2]) {
            (new \System\Commands\Admin())->run($argv[2]);
        } else {
            echo "Argument two is empty! what is module name?";
        }
        break;
    case "make:module":
        if($argv[2]) {
            (new \System\Commands\Module())->run($argv[2]);
        } else {
            echo "Argument two is empty! what is module name?";
        }
        break;
    case "model:make":
        $table = isset($argv[2])?$argv[2]:null;
        (new \System\Commands\Model())->run($table);
        break;
    case "table:users":
        (new \System\Commands\TableUsers())->run();
        break;
    case "compile":
        (new \System\Commands\Route())->run();
        (new \System\Commands\Middleware())->run();
        break;
    case "route":
        (new \System\Commands\Route())->run();
        break;
    case "middleware":
        (new \System\Commands\Middleware())->run();
        break;
    default:
        echo "No command found";
        break;
}